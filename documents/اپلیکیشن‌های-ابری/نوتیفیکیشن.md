# نوتیفیکیشن

| ماژول اصلی | تعریف ماژول | توضیحات |
| :---: | :---: | :---: |
| Notification | ماژول پیام‌رسانی و اعلانات سیستمی | ارسال پیام‌ها، هشدارها و اعلانات به کاربران از طریق کانال‌های مختلف (SMS، Push، Email) به‌صورت هدفمند و زمان‌بندی‌شده. |

فیچرلیست:

| ردیف | دسته‌بندی | عنوان | مسیر پیشنهادی | داستان کاربر (User Story) |
| :---: | ----- | :---: | :---: | :---: |
| 1 | مدیریت تامین‌کننده (SMS) | تعریف تامین کننده پیامک | POST /providers/sms | به عنوان ادمین، می‌خواهم اطلاعات یک شرکت ارائه‌دهنده پیامک (مانند کلید API) را در سیستم تعریف کنم. |
| 2 |  | بروزرسانی تامین کننده پیامک | PUT /providers/sms/{providerId} | به عنوان ادمین، می‌خواهم کلید API تامین‌کننده پیامک را به‌روزرسانی کنم. |
| 3 |  | دریافت یک تامین کننده پیامک خاص | GET /providers/sms/{providerId} | به عنوان ادمین، می‌خواهم جزئیات یک تامین‌کننده پیامک خاص را مشاهده کنم. |
| 4 |  | دریافت لیست تامین کنندگان پیامک | GET /providers/sms | به عنوان ادمین، می‌خواهم لیست تمام تامین‌کنندگان پیامک فعال در سیستم را ببینم. |
| 5 |  | حذف تامین کننده پیامک | DELETE /providers/sms/{providerId} | به عنوان ادمین، می‌خواهم یک تامین‌کننده که دیگر با آن کار نمی‌کنیم را حذف کنم. |
| 6 |  | تعریف منطق Failover برای تامین‌کنندگان | POST /providers/routing-rules | به عنوان مدیر فنی، می‌خواهم قانونی تنظیم کنم که اگر تامین‌کننده اصلی پیامک از دسترس خارج شد، سیستم به طور خودکار از تامین‌کننده دوم استفاده کند. |
| 7 | مدیریت کانال (Email/Push) | اضافه کردن کانفیگ ایمیل | POST /providers/email | به عنوان ادمین، می‌خواهم یک سرور ایمیل (SMTP) جدید برای ارسال ایمیل‌ها تعریف کنم. |
| 8 |  | ایجاد اپلیکیشن (برای پوش) | POST /apps | به عنوان توسعه‌دهنده، می‌خواهم یک اپلیکیشن جدید برای ارسال پوش نوتیفیکیشن ثبت کنم. |
| 9 |  | بروزرسانی اپلیکیشن | PUT /apps/{appId} | به عنوان توسعه‌دهنده، می‌خواهم نام یا کلیدهای اپلیکیشن پوش خود را ویرایش کنم. |
| 10 |  | دریافت لیست اپلیکیشن ها | GET /apps | به عنوان ادمین، می‌خواهم لیست تمام اپلیکیشن‌های ثبت شده برای ارسال پوش را ببینم. |
|  |  | پشتیبانی از پوش نوتیفیکیشن‌های غنی (Rich Push) | `POST /push/send/rich` | به عنوان مدیر بازاریابی، می‌خواهم یک پوش نوتیفیکیشن حاوی یک تصویر محصول و دو دکمه تعاملی («مشاهده محصول» و «افزودن به سبد خرید») برای کاربران ارسال کنم. |
|  |  | قابلیت ارسال اعلان صوتی (Voice Notification) | `POST /voice/send` | به عنوان مدیر امنیت، برای هشدارهای فوق‌العاده حیاتی، می‌خواهم سیستم به صورت خودکار با کاربر تماس تلفنی برقرار کرده و پیام هشدار را برای او بخواند. |
| 11 | مدیریت قالب و متغیرها | ایجاد قالب | POST /templates | به عنوان مدیر بازاریابی، می‌خواهم یک قالب ایمیل برای «خبرنامه هفتگی» طراحی کنم. |
| 12 |  | ویرایش قالب | PUT /templates/{templateId} | به عنوان مدیر، می‌خواهم متن داخل قالب پیامک «خوشامدگویی» را ویرایش کنم. |
| 13 |  | حذف قالب | DELETE /templates/{templateId} | به عنوان مدیر، می‌خواهم یک قالب قدیمی که دیگر استفاده نمی‌شود را حذف کنم. |
| 14 |  | لیست قالب ها | GET /templates | به عنوان مدیر، می‌خواهم تمام قالب‌های موجود در سیستم را مشاهده کنم. |
| 15 |  | ایجاد متغیر | POST /variables | به عنوان توسعه‌دهنده، می‌خواهم متغیر {{user\_name}} را تعریف کنم تا در متن پیام‌ها قابل استفاده باشد. |
| 16 |  | دریافت لیست متغیرها | GET /variables | به عنوان توسعه‌دهنده، می‌خواهم ببینم چه متغیرهایی برای استفاده در قالب‌ها تعریف شده است. |
| 17 | مدیریت پروفایل کاربر | ایجاد پروفایل | POST /profiles | به عنوان یک کسب‌وکار، می‌خواهم هنگام ثبت‌نام یک کاربر جدید، بتوانم پروفایل او را به همراه اطلاعات تماس اولیه‌اش (مانند شماره موبایل یا ایمیل) در سیستم نوتیفیکیشن ایجاد کنم. |
| 18 |  | ویرایش اطلاعات عمومی پروفایل کاربر نهایی | PUT /profiles/{profileId} | به عنوان یک کسب‌وکار، می‌خواهم بتوانم اطلاعات عمومی یک کاربر نهایی (مانند نام و نام خانوادگی) را ویرایش کنم. |
| 19 |  | مدیریت اطلاعات تماس پروفایل کاربر نهایی | `POST /profiles/{profileId}/contacts`\<br\>`DELETE /profiles/{profileId}/contacts/{contactId}` | به عنوان یک کسب‌وکار، می‌خواهم بتوانم یک راه ارتباطی جدید (مانند یک ایمیل ثانویه) به پروفایل کاربر نهایی اضافه کنم یا اطلاعات تماس قدیمی او را حذف نمایم. |
| 20 |  | مدیریت تنظیمات دریافت اعلان توسط کاربر نهایی | `PUT /me/preferences` | به عنوان یک کاربر نهایی، می‌خواهم بتوانم انتخاب کنم که از کدام کانال‌ها (ایمیل، پیامک، پوش) و برای چه نوع پیام‌هایی (تبلیغاتی، سیستمی) اعلان دریافت کنم. |
| 21 | مدیریت رویداد و منطق ارسال | ایجاد رویداد | POST /events | به عنوان توسعه‌دهنده، می‌خواهم رویداد OrderShipped را تعریف کنم تا برای آن اعلان تعریف شود. |
| 22 |  | بروزرسانی رویداد | PUT /events/{eventId} | به عنوان توسعه‌دهنده، می‌خواهم نام یک رویداد را اصلاح کنم. |
| 23 |  | ایجاد اکشن | POST /actions | به عنوان مدیر، می‌خواهم یک «اکشن» با نام «ارسال پیامک تایید ارسال» ایجاد کنم. |
| 24 |  | تخصیص اکشن به رویداد | POST /events/{eventId}/actions | به عنوان مدیر، می‌خواهم «اکشن ارسال پیامک» را به رویداد OrderShipped متصل کنم. |
| 25 |  | رخداد رویداد (Trigger Event) | POST /events/trigger | به عنوان بک‌اند فروشگاه، پس از ارسال سفارش، می‌خواهم رویداد OrderShipped را برای کاربر فراخوانی کنم. |
| 26 | ارکستراسیون هوشمند | طراحی سفر مشتری (Visual Journey Builder) | POST /journeys | به عنوان مدیر بازاریابی، می‌خواهم با ابزار گرافیکی، سفر مشتری طراحی کنم: «بعد از ثبت‌نام، ۱ روز صبر کن، ایمیل خوشامدگویی بفرست، اگر باز نکرد، ۲ روز بعد پیامک بفرست». |
| 27 |  | تست A/B کمپین | POST /campaigns/ab-test | به عنوان مدیر بازاریابی، می‌خواهم دو متن پیامک مختلف را برای ۱۰٪ از کاربران ارسال و نسخه برنده را برای ۹۰٪ باقی‌مانده بفرستم. |
| 28 |  | ایجاد سگمنت‌های داینامیک کاربران | POST /segments | به عنوان مدیر بازاریابی، می‌خواهم گروهی از «کاربران غیرفعال» (که ۳۰ روز لاگین نکرده‌اند) ایجاد کنم. |
| 29 | مدیریت تجربه کاربری ارسال | تعریف سقف ارسال (Frequency Capping) | POST /rules/frequency-capping | به عنوان مدیر، می‌خواهم قانونی تنظیم کنم که هیچ کاربری در هفته بیش از ۳ پوش تبلیغاتی دریافت نکند. |
| 30 |  | تعریف ساعات سکوت (Quiet Hours) | POST /rules/quiet-hours | به عنوان مدیر، می‌خواهم ارسال هرگونه پیام تبلیغاتی بین ساعت ۱۰ شب تا ۹ صبح را ممنوع کنم. |
| 31 | ارسال پیام (تمام کانال‌ها) | ارسال پیامک | POST /sms/send | به عنوان سیستم، می‌خواهم یک پیامک تکی برای تایید شماره موبایل کاربر ارسال کنم. |
| 32 |  | ارسال پیامک گروهی (فایل اکسل) | POST /sms/send/bulk | به عنوان مدیر بازاریابی، می‌خواهم به لیستی از ۱۰۰۰ شماره از طریق فایل اکسل، پیامک تبلیغاتی ارسال کنم. |
| 33 |  | ارسال ایمیل | POST /email/send | به عنوان سیستم، می‌خواهم یک ایمیل برای بازیابی رمز عبور به کاربر ارسال کنم. |
| 34 |  | ارسال پوش نوتیفیکیشن | POST /push/send | به عنوان سیستم، می‌خواهم به اپلیکیشن کاربر یک پوش نوتیفیکیشن در مورد پیام جدید ارسال کنم. |
| 35 |  | ارسال پیامک اعتبارسنجی (OTP) | POST /sms/otp/send | به عنوان سیستم، می‌خواهم یک کد یکبار مصرف برای ورود دو مرحله‌ای به کاربر ارسال کنم. |
| 36 |  | ارسال پیام درون‌برنامه‌ای (In-App Message) | POST /in-app/send | به عنوان مدیر محصول، می‌خواهم هنگام باز کردن اپ، یک پیام پاپ‌آپ در مورد قابلیت جدید به کاربر نمایش دهم. |
| 37 | گزارش‌گیری و وضعیت | دریافت وضعیت پیامک ارسال شده | GET /sms/status/{messageId} | به عنوان توسعه‌دهنده، می‌خواهم مطمئن شوم که پیامک به دست کاربر رسیده است (Delivered). |
| 38 |  | دریافت لیست پیام های ارسالی | GET /logs/sms | به عنوان مدیر، می‌خواهم گزارشی از تمام پیامک‌های ارسال شده در ماه گذشته را مشاهده کنم. |
| 39 |  | دریافت درخواست ارسال پیامک زمانبندی شده | GET /schedules/sms/{scheduleId} | به عنوان مدیر، می‌خواهم جزئیات یک ارسال زمانبندی شده که برای فردا تنظیم کرده‌ام را ببینم. |
| 40 |  | حذف درخواست ارسال پیامک زمانبندی شده | DELETE /schedules/sms/{scheduleId} | به عنوان مدیر، می‌خواهم ارسال زمانبندی شده‌ای که منصرف شده‌ام را لغو کنم. |
| 41 |  | وب‌هوک برای وضعیت پیام | POST /webhooks/status | به عنوان توسعه‌دهنده، می‌خواهم یک URL ثبت کنم تا وضعیت نهایی پیام‌ها به سیستم من اطلاع داده شود. |
|  |  | تحلیل هوشمند عملکرد و خطایابی تحویل پیام | `GET /analytics/delivery-performance` | به عنوان مدیر فنی، می‌خواهم داشبوردی داشته باشم که نه تنها بگوید کدام پیامک‌ها ناموفق بوده‌اند، بلکه دلیل دقیق آن (مثلاً: شماره غلط، لیست سیاه مخابرات) و عملکرد هر یک از تامین‌کنندگان را به تفکیک به من نشان دهد. |
|  |  | پوشش‌دهی (Masking) داده‌های حساس در گزارش‌ها |  | به عنوان مدیر امنیت، می‌خواهم در پنل گزارش‌گیری، شماره موبایل و ایمیل کاربران به صورت خودکار پوشش‌دهی شود (مثلاً 0912\*\*\*1234) تا از حریم خصوصی کاربران نهایی محافظت شود. |
| 42 | مدیریت مشتری و صورتحساب (B2B) | تعریف مشتری | POST /clients | به عنوان ادمین پلتفرم، می‌خواهم یک کسب‌وکار جدید را به عنوان مشتری سرویس نوتیفیکیشن خود تعریف کنم. |
| 43 |  | انتصاب نوع پیامک به مشتری | POST /clients/{clientId}/sms-config | به عنوان ادمین، می‌خواهم برای یک مشتری خاص، یک سرشماره اختصاصی تخصیص دهم. |
| 44 |  | صدور فاکتور لحظه‌ای | POST /invoices/instant | به عنوان مشتری سرویس، می‌خواهم ۱۰۰ هزار تومان اعتبار پیامک خریداری و فاکتور آن را دریافت کنم. |
| 45 |  | مدیریت بودجه و هزینه‌ها | POST /clients/{clientId}/budgets | به عنوان مشتری سرویس، می‌خواهم یک سقف هزینه ماهانه تعریف کنم و هشدار دریافت کنم. |
| 46 | مدیریت دسترسی و امنیت | ایجاد گروه سطح دسترسی | POST /access-groups | به عنوان ادمین، می‌خواهم یک گروه با نام «اپراتورهای بازاریابی» ایجاد کنم. |
| 47 |  | بروزرسانی گروه سطح دسترسی | PUT /access-groups/{groupId} | به عنوان ادمین، می‌خواهم به گروه «اپراتورهای بازاریابی» دسترسی «ارسال پیامک گروهی» را اضافه کنم. |
| 48 |  | گزارش حسابرسی (Audit Trail) | GET /admin/audit-logs | به عنوان مدیر امنیت، می‌خواهم به تاریخچه کاملی از تمام تغییرات (مثلا چه کسی یک قالب را ویرایش کرده) دسترسی داشته باشم. |
| 49 | بهینه‌سازی با هوش مصنوعی | دستیار هوش مصنوعی برای نوشتن متن پیام (AI Copywriter) | `POST /templates/ai-suggest` | به عنوان یک کارشناس بازاریابی، می‌خواهم هنگام نوشتن متن یک ایمیل تبلیغاتی، از هوش مصنوعی بخواهم تا ۵ عنوان (Subject) جذاب و متفاوت به من پیشنهاد دهد تا بهترین را انتخاب کنم. |